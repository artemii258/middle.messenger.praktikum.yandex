{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-26ed47802f40737c.js","src/ts/index.ts","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","src/Controllers/AuthController.ts","src/api/AuthAPI.ts","src/services/Requests.ts","src/store/Store.ts","src/utils/Event-bus.ts","src/utils/helpers.ts","src/utils/Routes/index.ts","src/blocks/libs/profiles/content/Content.ts","src/utils/Block.ts","node_modules/nanoid/index.browser.js","src/blocks/libs/button/Button.ts","src/blocks/libs/button/_button.pug","src/blocks/libs/profiles/Profiles.ts","src/blocks/libs/profiles/_profiles.pug","src/blocks/libs/input/Input.ts","src/services/Validation.ts","src/blocks/libs/input/_input.pug","src/blocks/libs/profiles/content/_content.pug","src/pages/chats/Chats.ts","src/blocks/libs/links/Links.ts","src/blocks/libs/links/_links.pug","node_modules/@parcel/runtime-js/lib/runtime-de1dd2382a655b5e.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-a60f4e5b981df260.js","node_modules/@parcel/runtime-js/lib/runtime-da188e9cf67b9c06.js","node_modules/@parcel/runtime-js/lib/runtime-839463477cb3f28e.js","node_modules/@parcel/runtime-js/lib/runtime-bd93c44b306abee2.js","node_modules/@parcel/runtime-js/lib/runtime-802ad8b4b41bc48f.js","node_modules/@parcel/runtime-js/lib/runtime-d3283d92d32edad7.js","node_modules/@parcel/runtime-js/lib/runtime-4ccebbd15414cc57.js","node_modules/@parcel/runtime-js/lib/runtime-1cf5ac0ccdd7a2d5.js","node_modules/@parcel/runtime-js/lib/runtime-5912bc80f52e3437.js","src/pages/chats/chats.pug","src/pages/chats/ChatListBase/ChatListBase.ts","src/pages/chats/ChatListBase/ChatListBase.pug","src/pages/chats/ChatListBase/ChatList/ChatList.ts","src/pages/chats/ChatListBase/ChatList/chatList.pug","src/Controllers/ChatsController.ts","src/api/ChatAPI.ts","src/Controllers/MessagesController.ts","src/services/WSTransport.ts","src/pages/chats/Messages/Messages.ts","src/pages/chats/Messages/messages.pug","src/pages/chats/Message/Message.ts","src/pages/chats/Message/message.pug","src/pages/entrance/Entrance.ts","src/pages/entrance/entrance.pug","src/pages/popup/Popup.ts","src/pages/popup/popup.pug","src/pages/profile/Profile.ts","src/pages/profile/profile.pug","src/pages/registration/Registration.ts","src/pages/registration/registration.pug","src/utils/Routes/Router.ts","src/utils/Routes/Route.ts","src/pages/error404/Error404.ts","src/pages/error404/error404.pug","node_modules/@parcel/runtime-js/lib/runtime-5e8d1ca32f5f4159.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";module.bundle.HMR_BUNDLE_ID = \"ceb3f8cc891f0f0b\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, chrome, browser, globalThis, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\n\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets\n/*: {|[string]: boolean|} */\n, assetsToDispose\n/*: Array<[ParcelRequire, string]> */\n, assetsToAccept\n/*: Array<[ParcelRequire, string]> */\n;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\n\nfunction getPort() {\n  return HMR_PORT || location.port;\n} // eslint-disable-next-line no-redeclare\n\n\nvar parent = module.bundle.parent;\n\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !/localhost|127.0.0.1|0.0.0.0/.test(hostname) ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/'); // Web extension context\n\n  var extCtx = typeof chrome === 'undefined' ? typeof browser === 'undefined' ? null : browser : chrome; // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n\n  var supportsSourceURL = false;\n\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  } // $FlowFixMe\n\n\n  ws.onmessage = async function (event\n  /*: {data: string, ...} */\n  ) {\n    checkedAssets = {}\n    /*: {|[string]: boolean|} */\n    ;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data\n    /*: HMRMessage */\n    = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH); // Handle HMR Update\n\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n\n      if (handled) {\n        console.clear(); // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n\n        await hmrApplyUpdates(assets); // Dispose all old assets.\n\n        let processedAssets = {}\n        /*: {|[string]: boolean|} */\n        ;\n\n        for (let i = 0; i < assetsToDispose.length; i++) {\n          let id = assetsToDispose[i][1];\n\n          if (!processedAssets[id]) {\n            hmrDispose(assetsToDispose[i][0], id);\n            processedAssets[id] = true;\n          }\n        } // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n\n\n        processedAssets = {};\n\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error('🚨 [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html); // $FlowFixMe\n\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n\n  ws.onerror = function (e) {\n    console.error(e.message);\n  };\n\n  ws.onclose = function () {\n    console.warn('[parcel] 🚨 Connection to the HMR server was lost');\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ✨ Error resolved');\n  }\n}\n\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          🚨 ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div>💡 ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div>📝 <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\n\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\n\nfunction getParents(bundle, id)\n/*: Array<[ParcelRequire, string]> */\n{\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n\n  newLink.setAttribute('href', // $FlowFixMe\n  link.getAttribute('href').split('?')[0] + '?' + Date.now()); // $FlowFixMe\n\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\n\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href\n      /*: string */\n      = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n\n      return new Promise((resolve, reject) => {\n        var _document$head;\n\n        script.onload = () => resolve(script);\n\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 ? void 0 : _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\n\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension bugfix for Chromium\n          // https://bugs.chromium.org/p/chromium/issues/detail?id=1255412#c12\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3) {\n            if (typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n              extCtx.runtime.reload();\n              return;\n            }\n\n            asset.url = extCtx.runtime.getURL('/__parcel_hmr_proxy__?url=' + encodeURIComponent(asset.url + '?t=' + Date.now()));\n            return hmrDownload(asset);\n          }\n\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n\n          (_document$head2 = document.head) === null || _document$head2 === void 0 ? void 0 : _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\n\nfunction hmrApply(bundle\n/*: ParcelRequire */\n, asset\n/*:  HMRAsset */\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      } // $FlowFixMe\n\n\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\n\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    } // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n\n\n    delete modules[id];\n    delete bundle.cache[id]; // Now delete the orphans.\n\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\n\nfunction hmrAcceptCheck(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  } // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n\n\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n\n      parents.push(...p);\n    }\n  }\n\n  return accepted;\n}\n\nfunction hmrAcceptCheckOne(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n\n  if (checkedAssets[id]) {\n    return true;\n  }\n\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\n\nfunction hmrDispose(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n\n  delete bundle.cache[id];\n}\n\nfunction hmrAccept(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n) {\n  // Execute the module.\n  bundle(id); // Run the accept callbacks in the new version of the module.\n\n  var cached = bundle.cache[id];\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAlsoAccept.forEach(function (a) {\n          hmrDispose(a[0], a[1]);\n        }); // $FlowFixMe[method-unbinding]\n\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n}","// @ts-ignore\r\nimport { AuthentificationController } from '../Controllers/AuthController';\r\nimport ActivationRoute from '../utils/Routes';\r\n\r\nwindow.addEventListener('DOMContentLoaded', async () => {\r\n\tconst route = new ActivationRoute();\r\n\tif (/profile/g.test(location.pathname)) {\r\n\t\thighlightingText();\r\n\t}\r\n\r\n\ttry {\r\n\t\tawait AuthentificationController.fetchUser();\r\n\r\n\t\troute.activation();\r\n\t} catch (e) {\r\n\t\troute.activationForNonRegistered();\r\n\t}\r\n});\r\n\r\nfunction highlightingText() {\r\n\tconst menu = document.querySelector('.profile__menu');\r\n\tconst links: NodeListOf<HTMLAnchorElement> | undefined = menu?.querySelectorAll('a');\r\n\tlinks?.forEach((a) => {\r\n\t\ta.classList.remove('profile__menu-active');\r\n\t\tif (location.pathname === '/profile' && a.textContent === 'Профиль') {\r\n\t\t\ta.classList.add('profile__menu-active');\r\n\t\t}\r\n\t\tif (location.pathname === '/profile/data' && a.textContent === 'Изменить данные') {\r\n\t\t\ta.classList.add('profile__menu-active');\r\n\t\t}\r\n\t\tif (location.pathname === '/profile/password' && a.textContent === 'Изменить пароль') {\r\n\t\t\ta.classList.add('profile__menu-active');\r\n\t\t}\r\n\t});\r\n}\r\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","import API, { AuthAPI, ISigninData, ISignupData, IUserBody, IPasswordBody } from '../api/AuthAPI';\r\nimport store from '../store/Store';\r\nimport ActivationRoute from '../utils/Routes';\r\nimport router from '../utils/Routes/Router';\r\n\r\nexport class AuthController {\r\n\tprivate readonly api: AuthAPI;\r\n\r\n\tconstructor() {\r\n\t\tthis.api = API;\r\n\t}\r\n\r\n\tasync signin(data: ISigninData) {\r\n\t\tawait this.api\r\n\t\t\t.signin(data)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.fetchUser();\r\n\t\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tnew ActivationRoute().activation();\r\n\t\t\t})\r\n\t\t\t.then(() => router.go('/messenger'))\r\n\t\t\t.catch((err) => console.log(err));\r\n\t}\r\n\r\n\tasync signup(data: ISignupData) {\r\n\t\tawait this.api\r\n\t\t\t.signup(data)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.fetchUser();\r\n\t\t\t})\r\n\t\t\t.then(() => new ActivationRoute().activation())\r\n\t\t\t.then(() => router.go('/messenger'))\r\n\t\t\t.catch((err) => console.log(err));\r\n\t}\r\n\tasync changeDate(data: IUserBody) {\r\n\t\tthis.api\r\n\t\t\t.changeDate({\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\taccept: 'application/json'\r\n\t\t\t\t},\r\n\t\t\t\tdata\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tstore.set('user', res);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\t}\r\n\tasync changePassword(data: IPasswordBody) {\r\n\t\tthis.api\r\n\t\t\t.changePassword({\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\taccept: 'application/json'\r\n\t\t\t\t},\r\n\t\t\t\tdata\r\n\t\t\t})\r\n\t\t\t.then((res) => console.log(res))\r\n\t\t\t.catch((err) => console.log(err));\r\n\t}\r\n\tasync changeAvatar(data: any) {\r\n\t\tthis.api\r\n\t\t\t.changeAvatar({\r\n\t\t\t\tdata\r\n\t\t\t})\r\n\t\t\t.then((res) => store.set('user', res))\r\n\t\t\t.then(() => {\r\n\t\t\t\t(document.querySelector('#popup__avatar') as HTMLElement).style.display = 'none';\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\t}\r\n\r\n\tasync fetchUser() {\r\n\t\tconst user = await this.api.read();\r\n\t\tstore.set('user', user);\r\n\t}\r\n\r\n\tasync logout() {\r\n\t\ttry {\r\n\t\t\tawait this.api.logout();\r\n\t\t\tnew ActivationRoute().activationForNonRegistered();\r\n\t\t\trouter.go('/');\r\n\t\t} catch (e: any) {\r\n\t\t\tconsole.error(e.message);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const AuthentificationController = new AuthController();\r\n","import HTTPTransport from '../services/Requests';\r\n\r\nexport interface ISigninData {\r\n\theaders: Record<string, any>;\r\n\tdata: {\r\n\t\tlogin: string;\r\n\t\tpassword: string;\r\n\t};\r\n}\r\nexport interface IPassword {\r\n\theaders: Record<string, any>;\r\n\tdata: IPasswordBody;\r\n}\r\nexport interface IPasswordBody {\r\n\toldPassword: string;\r\n\tnewPassword: string;\r\n}\r\n\r\nexport interface ISignupData {\r\n\theaders: Record<string, any>;\r\n\tdata: ISignupBody;\r\n}\r\n\r\nexport interface ISignupBody {\r\n\tfirst_name: string;\r\n\tsecond_name: string;\r\n\tlogin: string;\r\n\temail: string;\r\n\tpassword: string;\r\n\tphone: string;\r\n}\r\n\r\nexport interface IUser {\r\n\theaders: Record<string, any>;\r\n\tdata: IUserBody;\r\n}\r\nexport interface IUserBody {\r\n\tid?: number;\r\n\tfirst_name: string;\r\n\tsecond_name: string;\r\n\tdisplay_name: string;\r\n\tlogin: string;\r\n\temail: string;\r\n\tpassword?: string;\r\n\tphone: string;\r\n\tavatar?: string;\r\n}\r\n\r\nexport class AuthAPI {\r\n\trequest: HTTPTransport;\r\n\tconstructor() {\r\n\t\tthis.request = new HTTPTransport();\r\n\t}\r\n\r\n\tsignin(data: ISigninData) {\r\n\t\treturn this.request.post('auth/signin', data);\r\n\t}\r\n\r\n\tsignup(data: ISignupData) {\r\n\t\treturn this.request.post('auth/signup', data);\r\n\t}\r\n\r\n\tread(): Promise<IUser> {\r\n\t\treturn this.request.get('auth/user');\r\n\t}\r\n\r\n\tchangeDate(data: IUser) {\r\n\t\treturn this.request.put('user/profile', data);\r\n\t}\r\n\tchangePassword(data: IPassword) {\r\n\t\treturn this.request.put('user/profile/password', data);\r\n\t}\r\n\tchangeAvatar(data: any) {\r\n\t\treturn this.request.put('user/profile/avatar', data);\r\n\t}\r\n\r\n\tlogout() {\r\n\t\treturn this.request.post('auth/logout', { headers: { accept: 'application/json' } });\r\n\t}\r\n}\r\n\r\nexport default new AuthAPI();\r\n","import { IPassword, IUser } from '../api/AuthAPI';\r\n\r\nenum METHODS {\r\n\tGET = 'GET',\r\n\tPOST = 'POST',\r\n\tPUT = 'PUT',\r\n\tDELETE = 'DELETE'\r\n}\r\n\r\ntype OptionsRequest = {\r\n\theaders?: Record<string, string>;\r\n\tmethod: 'GET' | 'POST' | 'PUT' | 'DELETE';\r\n\tdata?: any;\r\n\tcredentials?: string;\r\n};\r\ntype Options = {\r\n\theaders?: Record<string, string>;\r\n\tdata?: Object;\r\n};\r\n\r\nfunction queryStringify(data: string) {\r\n\tif (typeof data !== 'object') {\r\n\t\tthrow new Error('Data must be object');\r\n\t}\r\n\r\n\tconst keys = Object.keys(data);\r\n\treturn keys.reduce((result, key, index) => {\r\n\t\treturn `${result}${key}=${data[key]}${index < keys.length - 1 ? '&' : ''}`;\r\n\t}, '?');\r\n}\r\n\r\nexport default class HTTPTransport {\r\n\tbaseURL: string;\r\n\r\n\tconstructor() {\r\n\t\tthis.baseURL = 'https://ya-praktikum.tech/api/v2/';\r\n\t}\r\n\tget = <Response>(url: string): Promise<Response> => {\r\n\t\treturn this.request<Response>(`${this.baseURL}${url}`, { method: METHODS.GET });\r\n\t};\r\n\r\n\tpost = <Response>(url: string, options?: Options): Promise<Response> => {\r\n\t\treturn this.request<Response>(`${this.baseURL}${url}`, { ...options, method: METHODS.POST });\r\n\t};\r\n\r\n\tput = <Response>(url: string, options?: IUser | IPassword | Object): Promise<Response> => {\r\n\t\treturn this.request(`${this.baseURL}${url}`, {\r\n\t\t\t...options,\r\n\t\t\tmethod: METHODS.PUT\r\n\t\t});\r\n\t};\r\n\r\n\tdelete = <Response>(url: string, options: Options): Promise<Response> => {\r\n\t\treturn this.request(`${this.baseURL}${url}`, { ...options, method: METHODS.DELETE });\r\n\t};\r\n\tprivate request = <Response>(url: string, options: OptionsRequest): Promise<Response> => {\r\n\t\tconst { headers = {}, method, data } = options;\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\tif (!method) {\r\n\t\t\t\treject('No method');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst xhr = new XMLHttpRequest();\r\n\t\t\tconst isGet = method === METHODS.GET;\r\n\r\n\t\t\txhr.open(method, isGet && !!data ? `${url}${queryStringify(data)}` : url);\r\n\r\n\t\t\tObject.keys(headers).forEach((key) => {\r\n\t\t\t\txhr.setRequestHeader(key, headers[key]);\r\n\t\t\t});\r\n\t\t\txhr.withCredentials = true;\r\n\t\t\txhr.responseType = 'json';\r\n\t\t\txhr.onabort = reject;\r\n\t\t\txhr.onerror = reject;\r\n\t\t\txhr.onreadystatechange = function () {\r\n\t\t\t\tif (xhr.readyState === 4) {\r\n\t\t\t\t\tif (xhr.status === 200) {\r\n\t\t\t\t\t\tresolve(xhr.response);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treject(xhr.response);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\txhr.ontimeout = reject;\r\n\t\t\tconst dataJSON = data instanceof FormData ? data : JSON.stringify(data);\r\n\t\t\tif (isGet || !data) {\r\n\t\t\t\txhr.send();\r\n\t\t\t} else {\r\n\t\t\t\txhr.send(dataJSON);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n}\r\n","import EventBus from '../utils/Event-bus';\r\nimport { set } from '../utils/helpers';\r\nimport Block from '../utils/Block';\r\n\r\nexport enum StoreEvents {\r\n\tUpdated = 'updated'\r\n}\r\ntype PlainObject<T = any> = {\r\n\t[k in string]: T;\r\n};\r\n\r\nexport class Store extends EventBus {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\tprivate state: any = {};\r\n\r\n\tpublic set(keypath: string, data: unknown) {\r\n\t\tset(this.state, keypath, data);\r\n\r\n\t\tthis.emit(StoreEvents.Updated, this.getState());\r\n\t}\r\n\r\n\tpublic getState() {\r\n\t\treturn this.state;\r\n\t}\r\n}\r\n\r\nconst store = new Store();\r\n\r\nfunction isPlainObject(value: unknown): value is PlainObject {\r\n\treturn (\r\n\t\ttypeof value === 'object' &&\r\n\t\tvalue !== null &&\r\n\t\tvalue.constructor === Object &&\r\n\t\tObject.prototype.toString.call(value) === '[object Object]'\r\n\t);\r\n}\r\n\r\nfunction isArray(value: unknown): value is [] {\r\n\treturn Array.isArray(value);\r\n}\r\n\r\nfunction isArrayOrObject(value: unknown): value is [] | PlainObject {\r\n\treturn isPlainObject(value) || isArray(value);\r\n}\r\n\r\nfunction isEqual(lhs: PlainObject, rhs: PlainObject) {\r\n\tif (Object.keys(lhs).length !== Object.keys(rhs).length) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfor (const [key, value] of Object.entries(lhs)) {\r\n\t\tconst rightValue = rhs[key];\r\n\t\tif (isArrayOrObject(value) && isArrayOrObject(rightValue)) {\r\n\t\t\tif (isEqual(value, rightValue)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (value !== rightValue) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nexport function withStore(mapStateToProps: (state: any) => any) {\r\n\treturn function wrap<T extends Record<string, any>>(Component: typeof Block<T>) {\r\n\t\tlet previousState: any;\r\n\r\n\t\treturn class WithStore extends Component {\r\n\t\t\tconstructor(props: any) {\r\n\t\t\t\tpreviousState = mapStateToProps(store.getState());\r\n\t\t\t\tsuper({ ...props, ...previousState });\r\n\r\n\t\t\t\tstore.on(StoreEvents.Updated, () => {\r\n\t\t\t\t\tconst stateProps = mapStateToProps(store.getState());\r\n\t\t\t\t\tif (!isEqual(previousState, stateProps) || stateProps.selectedChat || stateProps.search) {\r\n\t\t\t\t\t\tpreviousState = stateProps;\r\n\t\t\t\t\t\tthis.setProps({ ...stateProps });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n}\r\n\r\nexport default store;\r\n","type Handler<A extends any[] = unknown[]> = (...args: A) => void;\r\ntype MapInterface<P> = P[keyof P];\r\n\r\nexport default class EventBus<\r\n\tE extends Record<string, string> = Record<string, string>,\r\n\tArgs extends Record<MapInterface<E>, any[]> = Record<string, any[]>\r\n> {\r\n\tprivate readonly listeners: {\r\n\t\t[K in MapInterface<E>]?: Handler<Args[K]>[];\r\n\t} = {};\r\n\r\n\ton<Event extends MapInterface<E>>(event: Event, callback: Handler<Args[Event]>) {\r\n\t\tif (!this.listeners[event]) {\r\n\t\t\tthis.listeners[event] = [];\r\n\t\t}\r\n\r\n\t\tthis.listeners[event]?.push(callback);\r\n\t}\r\n\r\n\toff<Event extends MapInterface<E>>(event: Event, callback: Handler<Args[Event]>) {\r\n\t\tif (!this.listeners[event]) {\r\n\t\t\tthrow new Error(`Нет события: ${event}`);\r\n\t\t}\r\n\r\n\t\tthis.listeners[event] = this.listeners[event]!.filter((listener) => listener !== callback);\r\n\t}\r\n\r\n\temit<Event extends MapInterface<E>>(event: Event, ...args: Args[Event]) {\r\n\t\tif (!this.listeners[event]) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.listeners[event]!.forEach(function (listener) {\r\n\t\t\tlistener(...args);\r\n\t\t});\r\n\t}\r\n}\r\n","export type Indexed<T = any> = {\r\n\t[key in string]: T;\r\n};\r\n\r\nexport function merge(lhs: Indexed, rhs: Indexed): Indexed {\r\n\tfor (let p in rhs) {\r\n\t\tif (!rhs.hasOwnProperty(p)) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tif (rhs[p].constructor === Object) {\r\n\t\t\t\trhs[p] = merge(lhs[p] as Indexed, rhs[p] as Indexed);\r\n\t\t\t} else {\r\n\t\t\t\tlhs[p] = rhs[p];\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tlhs[p] = rhs[p];\r\n\t\t}\r\n\t}\r\n\r\n\treturn lhs;\r\n}\r\n\r\nexport function set(object: Indexed | unknown, path: string, value: unknown): Indexed | unknown {\r\n\tif (typeof object !== 'object' || object === null) {\r\n\t\treturn object;\r\n\t}\r\n\r\n\tif (typeof path !== 'string') {\r\n\t\tthrow new Error('path must be string');\r\n\t}\r\n\r\n\tconst result = path.split('.').reduceRight<Indexed>(\r\n\t\t(acc, key) => ({\r\n\t\t\t[key]: acc\r\n\t\t}),\r\n\t\tvalue as any\r\n\t);\r\n\treturn merge(object as Indexed, result);\r\n}\r\n","import { onSubmitProfile } from '../../blocks/libs/profiles/content/Content';\r\nimport Chats, { images, Messenger } from '../../pages/chats/Chats';\r\nimport Entrance from '../../pages/entrance/Entrance';\r\nimport Popup, { onSubmitPopup } from '../../pages/popup/Popup';\r\nimport error from '../../assets/images/error.jpg';\r\nimport { ProfilePage } from '../../pages/profile/Profile';\r\nimport { ContentPage } from '../../blocks/libs/profiles/content/Content';\r\nimport Registration, { onSubmitRegistration } from '../../pages/registration/Registration';\r\nimport Block from '../Block';\r\nimport page from './Router';\r\nimport { AuthentificationController } from '../../Controllers/AuthController';\r\nimport Error404 from '../../pages/error404/Error404';\r\n\r\nenum Routes {\r\n\tIndex = '/',\r\n\tRegister = '/sign-up',\r\n\tChats = '/messenger',\r\n\tAddFile = '/messenger/addFile',\r\n\taddPhotoOrVideo = '/messenger/addPhotoOrVideo',\r\n\taddUser = '/messenger/addUser',\r\n\tdeleteUser = '/messenger/deleteUser',\r\n\tProfile = '/profile',\r\n\tChangesData = '/profile/data',\r\n\tChangePassword = '/profile/password',\r\n\tChangeAvatar = '/profile/changeAvatar',\r\n\tError404 = '/error404'\r\n}\r\nexport default class ActivationRoute {\r\n\tactivation = () => {\r\n\t\tpage\r\n\t\t\t.use(Routes.Chats, Messenger as typeof Block, { classes: 'chats', images })\r\n\t\t\t.use(Routes.AddFile, Chats as typeof Block, { classes: 'chats', images })\r\n\t\t\t.use(Routes.AddFile, Popup as typeof Block, {\r\n\t\t\t\ttitle: 'Загрузите файл',\r\n\t\t\t\tname: 'file',\r\n\t\t\t\tlabel: 'Добавить',\r\n\t\t\t\tid: 'file',\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tsubmit: (e: Event) => onSubmitPopup(e, 'file')\r\n\t\t\t\t},\r\n\t\t\t\ttypeButton: 'submit',\r\n\t\t\t\ttypeInput: 'file'\r\n\t\t\t})\r\n\t\t\t.use(Routes.addPhotoOrVideo, Messenger as typeof Block, { classes: 'chats', images })\r\n\t\t\t.use(Routes.addPhotoOrVideo, Popup as typeof Block, {\r\n\t\t\t\ttitle: 'Загрузите файл',\r\n\t\t\t\tname: 'file',\r\n\t\t\t\tlabel: 'Добавить',\r\n\t\t\t\tid: 'file',\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tsubmit: (e: Event) => onSubmitPopup(e, 'file')\r\n\t\t\t\t},\r\n\t\t\t\ttypeButton: 'submit',\r\n\t\t\t\ttypeInput: 'file'\r\n\t\t\t})\r\n\t\t\t.use(Routes.addUser, Messenger as typeof Block, { classes: 'chats', images })\r\n\t\t\t.use(Routes.addUser, Popup as typeof Block, {\r\n\t\t\t\ttitle: 'Добавить пользователя',\r\n\t\t\t\tname: 'login',\r\n\t\t\t\tlabel: 'Добавить',\r\n\t\t\t\tid: 'add',\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tsubmit: (e: Event) => onSubmitPopup(e, 'add')\r\n\t\t\t\t},\r\n\t\t\t\ttypeButton: 'submit',\r\n\t\t\t\ttypeInput: 'text'\r\n\t\t\t})\r\n\t\t\t.use(Routes.deleteUser, Messenger as typeof Block, { classes: 'chats', images })\r\n\t\t\t.use(Routes.deleteUser, Popup as typeof Block, {\r\n\t\t\t\ttitle: 'Удалить пользователя',\r\n\t\t\t\tname: 'login',\r\n\t\t\t\tlabel: 'Удалить',\r\n\t\t\t\tid: 'delete',\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tsubmit: (e: Event) => onSubmitPopup(e, 'delete')\r\n\t\t\t\t},\r\n\t\t\t\ttypeButton: 'submit',\r\n\t\t\t\ttypeInput: 'text'\r\n\t\t\t})\r\n\t\t\t.use(Routes.Profile, ProfilePage as typeof Block, {\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tclick: this.onClick\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.use(Routes.ChangesData, ProfilePage as typeof Block, {\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tclick: this.onClick\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.use(Routes.ChangePassword, ProfilePage as typeof Block, {\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tclick: this.onClick\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.use(Routes.ChangeAvatar, ProfilePage as typeof Block, {\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tclick: this.onClick\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.use(Routes.Profile, ContentPage as typeof Block, {\r\n\t\t\t\ttrigger: 'profile'\r\n\t\t\t})\r\n\t\t\t.use(Routes.ChangesData, ContentPage as typeof Block, {\r\n\t\t\t\ttrigger: 'data',\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tsubmit: (e: Event) => onSubmitProfile(e, 'data')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.use(Routes.ChangePassword, ContentPage as typeof Block, {\r\n\t\t\t\ttrigger: 'password',\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tsubmit: (e: Event) => onSubmitProfile(e, 'password')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.use(Routes.ChangeAvatar, Popup as typeof Block, {\r\n\t\t\t\ttitle: 'Загрузите файл',\r\n\t\t\t\tname: 'file',\r\n\t\t\t\tlabel: 'Поменять',\r\n\t\t\t\tid: 'avatar',\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tsubmit: (e: Event) => onSubmitPopup(e, 'avatar')\r\n\t\t\t\t},\r\n\t\t\t\ttypeButton: 'submit',\r\n\t\t\t\ttypeInput: 'file'\r\n\t\t\t})\r\n\t\t\t.use(Routes.Error404, Error404 as typeof Block, {\r\n\t\t\t\timages: error\r\n\t\t\t})\r\n\t\t\t.start();\r\n\t};\r\n\tactivationForNonRegistered = () => {\r\n\t\tpage\r\n\t\t\t.use(Routes.Index, Entrance)\r\n\t\t\t.use(Routes.Register, Registration as typeof Block, {\r\n\t\t\t\tclasses: 'registration',\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tsubmit: onSubmitRegistration\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.use(Routes.Error404, Error404 as typeof Block, {\r\n\t\t\t\timages: error\r\n\t\t\t})\r\n\t\t\t.start();\r\n\t};\r\n\tonClick = (e: Event) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst target = e.target as HTMLLinkElement;\r\n\t\tif (target.getAttribute('href') === '#') {\r\n\t\t\tAuthentificationController.logout();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet path = target.getAttribute('href')\r\n\t\t\t? target.getAttribute('href')\r\n\t\t\t: target.getAttribute('data-href');\r\n\t\tif (target.getAttribute('data-href') === '/#') {\r\n\t\t\tif (/profile/g.test(window.location.pathname)) {\r\n\t\t\t\tpage.go('/profile');\r\n\t\t\t} else {\r\n\t\t\t\tpage.go('/messenger');\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!target.classList.contains('profile__hover')) {\r\n\t\t\tif (/profile/g.test(target.getAttribute('class')!)) {\r\n\t\t\t\tif (target.tagName === 'A') {\r\n\t\t\t\t\tconst prof = document.querySelector('.profile');\r\n\t\t\t\t\tconst a = prof?.querySelectorAll('a');\r\n\t\t\t\t\ta?.forEach((a) => {\r\n\t\t\t\t\t\ta.classList.remove('profile__menu-active');\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttarget.classList.add('profile__menu-active');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (path) {\r\n\t\t\tpage.go(path);\r\n\t\t}\r\n\t};\r\n}\r\n","import { AuthentificationController } from '../../../../Controllers/AuthController';\r\nimport { withStore } from '../../../../store/Store';\r\nimport Block from '../../../../utils/Block';\r\nimport { Button } from '../../button/Button';\r\nimport Profiles from '../Profiles';\r\nimport template from './_content.pug';\r\n\r\nexport interface IContent {\r\n\ttrigger: string;\r\n\tevents?: {\r\n\t\tsubmit: (e: Event) => void;\r\n\t};\r\n}\r\nexport default class Content extends Block<IContent> {\r\n\tconstructor(props: IContent) {\r\n\t\tsuper({ ...props });\r\n\t}\r\n\tinit() {\r\n\t\tthis.children.emailInput = new Profiles({\r\n\t\t\ttext: 'Почта',\r\n\t\t\tname: 'email',\r\n\t\t\ttype: 'email',\r\n\t\t\tplaceholder: 'pochta@yandex.ru'\r\n\t\t});\r\n\t\tthis.children.loginInput = new Profiles({\r\n\t\t\ttext: 'Логин',\r\n\t\t\tname: 'login',\r\n\t\t\ttype: 'text',\r\n\t\t\tplaceholder: 'ivanivanov'\r\n\t\t});\r\n\t\tthis.children.first_nameInput = new Profiles({\r\n\t\t\ttext: 'Имя',\r\n\t\t\tname: 'first_name',\r\n\t\t\ttype: 'text',\r\n\t\t\tplaceholder: 'Иван'\r\n\t\t});\r\n\t\tthis.children.second_nameInput = new Profiles({\r\n\t\t\ttext: 'Фамилия',\r\n\t\t\tname: 'second_name',\r\n\t\t\ttype: 'text',\r\n\t\t\tplaceholder: 'Иванов'\r\n\t\t});\r\n\t\tthis.children.display_nameInput = new Profiles({\r\n\t\t\ttext: 'Имя в чате',\r\n\t\t\tname: 'display_name',\r\n\t\t\ttype: 'text',\r\n\t\t\tplaceholder: 'Иван'\r\n\t\t});\r\n\t\tthis.children.phoneInput = new Profiles({\r\n\t\t\ttext: 'Телефон',\r\n\t\t\tname: 'phone',\r\n\t\t\ttype: 'tel',\r\n\t\t\tplaceholder: '+7 (909) 967 30 30'\r\n\t\t});\r\n\t\tthis.children.oldPasswordInput = new Profiles({\r\n\t\t\ttext: 'Старый пароль',\r\n\t\t\tname: 'oldPassword',\r\n\t\t\ttype: 'password',\r\n\t\t\tplaceholder: ''\r\n\t\t});\r\n\t\tthis.children.newPasswordInput = new Profiles({\r\n\t\t\ttext: 'Новый пароль',\r\n\t\t\tname: 'newPassword',\r\n\t\t\ttype: 'password',\r\n\t\t\tplaceholder: ''\r\n\t\t});\r\n\t\tthis.children.newPassword2Input = new Profiles({\r\n\t\t\ttext: 'Повторите новый пароль',\r\n\t\t\tname: 'newPasswordRepeat',\r\n\t\t\ttype: 'password',\r\n\t\t\tplaceholder: ''\r\n\t\t});\r\n\r\n\t\tthis.children.button = new Button({\r\n\t\t\tlabel: 'Сохранить',\r\n\t\t\tclasses: 'profile',\r\n\t\t\ttype: 'submit'\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\treturn this.compile(template, { ...this.props });\r\n\t}\r\n}\r\n\r\nexport const onSubmitProfile = (e: Event, id: string) => {\r\n\tconst form: HTMLFormElement | null = document.querySelector(`#${id}`);\r\n\tconst inputs = form?.querySelectorAll('input');\r\n\te.preventDefault();\r\n\tif (inputs) {\r\n\t\tfor (let i = 0; i < inputs.length; i++) {\r\n\t\t\tif (inputs[i].classList.contains('validation') || inputs[i].value === '') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (form) {\r\n\t\tconst formData: FormData = new FormData(form);\r\n\t\tlet data;\r\n\t\tif (formData.get('email')) {\r\n\t\t\tdata = {\r\n\t\t\t\temail: formData.get('email')! as string,\r\n\t\t\t\tlogin: formData.get('login')! as string,\r\n\t\t\t\tfirst_name: formData.get('first_name')! as string,\r\n\t\t\t\tsecond_name: formData.get('second_name')! as string,\r\n\t\t\t\tdisplay_name: formData.get('display_name')! as string,\r\n\t\t\t\tphone: formData.get('phone')! as string\r\n\t\t\t};\r\n\t\t\tAuthentificationController.changeDate(data);\r\n\t\t} else {\r\n\t\t\tdata = {\r\n\t\t\t\toldPassword: formData.get('oldPassword')! as string,\r\n\t\t\t\tnewPassword: formData.get('newPassword')! as string\r\n\t\t\t};\r\n\t\t\tAuthentificationController.changePassword(data);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst withUser = withStore((state) => ({ ...state.user }));\r\n\r\nexport const ContentPage = withUser<IContent>(Content);\r\n","import EventBus from './Event-bus';\r\nimport { nanoid } from 'nanoid';\r\n\r\nlet eventBackgraund = false;\r\n\r\n// Нельзя создавать экземпляр данного класса\r\nexport default class Block<P extends Record<string, any> = any> {\r\n\tstatic EVENTS = {\r\n\t\tINIT: 'init',\r\n\t\tFLOW_CDM: 'flow:component-did-mount',\r\n\t\tFLOW_CDU: 'flow:component-did-update',\r\n\t\tFLOW_RENDER: 'flow:render'\r\n\t} as const;\r\n\r\n\tpublic id = nanoid(6);\r\n\tprotected props: P;\r\n\tpublic children: Record<string, Block | Block[]>;\r\n\tprivate eventBus: () => EventBus;\r\n\tprivate _element: HTMLElement | null = null;\r\n\r\n\t/** JSDoc\r\n\t * @param {string} tagName\r\n\t * @param {Object} props\r\n\t *\r\n\t * @returns {void}\r\n\t */\r\n\tconstructor(propsWithChildren: P) {\r\n\t\tconst eventBus = new EventBus();\r\n\r\n\t\tconst { props, children } = this._getChildrenAndProps(propsWithChildren);\r\n\r\n\t\tthis.children = children;\r\n\t\tthis.props = this._makePropsProxy(props);\r\n\r\n\t\tthis.eventBus = () => eventBus;\r\n\r\n\t\tthis._registerEvents(eventBus);\r\n\r\n\t\teventBus.emit(Block.EVENTS.INIT);\r\n\t}\r\n\r\n\t_getChildrenAndProps(childrenAndProps: P): { props: P; children: Record<string, Block> } {\r\n\t\tconst props: Record<string, unknown> = {};\r\n\t\tconst children: Record<string, Block> = {};\r\n\r\n\t\tObject.entries(childrenAndProps).forEach(([key, value]) => {\r\n\t\t\tif (value instanceof Block) {\r\n\t\t\t\tchildren[key as string] = value;\r\n\t\t\t} else {\r\n\t\t\t\tprops[key] = value;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn { props: props as P, children };\r\n\t}\r\n\r\n\t_addEvents() {\r\n\t\tconst { events = {} } = this.props as P & { events: Record<string, () => void> };\r\n\t\tObject.keys(events).forEach((eventName) => {\r\n\t\t\tif (this._element?.tagName === 'FORM' || this._element?.querySelector('form')) {\r\n\t\t\t\tthis._element?.addEventListener(eventName, events[eventName]);\r\n\t\t\t} else if (this._element?.querySelector('input')) {\r\n\t\t\t\tthis._element?.querySelector('input')?.addEventListener(eventName, events[eventName]);\r\n\t\t\t} else {\r\n\t\t\t\tif (eventName === 'click' && events[eventName].name === 'onClick' && !eventBackgraund) {\r\n\t\t\t\t\tdocument\r\n\t\t\t\t\t\t.querySelector('.popup__backgraund')\r\n\t\t\t\t\t\t?.addEventListener(eventName, events[eventName]);\r\n\t\t\t\t\teventBackgraund = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis._element?.addEventListener(eventName, events[eventName]);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t_removeEvents() {\r\n\t\tconst { events = {} } = this.props as P & { events: Record<string, () => void> };\r\n\r\n\t\tObject.keys(events).forEach((eventName) => {\r\n\t\t\tif (this._element?.tagName === 'FORM' || this._element?.querySelector('form')) {\r\n\t\t\t\tthis._element?.removeEventListener(eventName, events[eventName]);\r\n\t\t\t} else if (this._element?.querySelector('input')) {\r\n\t\t\t\tthis._element?.querySelector('input')?.removeEventListener(eventName, events[eventName]);\r\n\t\t\t} else {\r\n\t\t\t\tthis._element?.removeEventListener(eventName, events[eventName]);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t_registerEvents(eventBus: EventBus) {\r\n\t\teventBus.on(Block.EVENTS.INIT, this._init.bind(this));\r\n\t\teventBus.on(Block.EVENTS.FLOW_CDM, this._componentDidMount.bind(this));\r\n\t\teventBus.on(Block.EVENTS.FLOW_CDU, this._componentDidUpdate.bind(this));\r\n\t\teventBus.on(Block.EVENTS.FLOW_RENDER, this._render.bind(this));\r\n\t}\r\n\r\n\tprivate _init() {\r\n\t\tthis.init();\r\n\r\n\t\tthis.eventBus().emit(Block.EVENTS.FLOW_RENDER);\r\n\t}\r\n\r\n\tprotected init() {}\r\n\r\n\t_componentDidMount() {\r\n\t\tthis.componentDidMount();\r\n\t}\r\n\r\n\tcomponentDidMount() {}\r\n\r\n\tpublic dispatchComponentDidMount() {\r\n\t\tthis.eventBus().emit(Block.EVENTS.FLOW_CDM);\r\n\r\n\t\tObject.values(this.children).forEach((child) => {\r\n\t\t\tif (Array.isArray(child)) {\r\n\t\t\t\tchild.forEach((ch) => ch.dispatchComponentDidMount());\r\n\t\t\t} else {\r\n\t\t\t\tchild.dispatchComponentDidMount();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate _componentDidUpdate(oldProps: P, newProps: P) {\r\n\t\tif (this.componentDidUpdate(oldProps, newProps)) {\r\n\t\t\tthis.eventBus().emit(Block.EVENTS.FLOW_RENDER);\r\n\t\t}\r\n\t}\r\n\r\n\tprotected componentDidUpdate(oldProps: P, newProps: P) {\r\n\t\treturn oldProps !== newProps;\r\n\t}\r\n\r\n\tsetProps = (nextProps: P) => {\r\n\t\tif (!nextProps) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tObject.assign(this.props, nextProps);\r\n\t};\r\n\r\n\tget element() {\r\n\t\treturn this._element;\r\n\t}\r\n\r\n\tprivate _render() {\r\n\t\tconst fragment = this.render();\r\n\r\n\t\tconst newElement = fragment.firstElementChild as HTMLElement;\r\n\r\n\t\tif (this._element && newElement) {\r\n\t\t\tthis._element.replaceWith(newElement);\r\n\t\t}\r\n\r\n\t\tthis._element = newElement;\r\n\t\tthis._removeEvents();\r\n\r\n\t\tthis._addEvents();\r\n\t}\r\n\r\n\tprotected compile(template: (context: any) => string, context: any) {\r\n\t\tconst contextAndStubs = { ...context };\r\n\r\n\t\tObject.entries(this.children).forEach(([name, component]) => {\r\n\t\t\tif (Array.isArray(component)) {\r\n\t\t\t\tcontextAndStubs[name] = component.map((child) => `div data-id=\"${child.id}\"></div`);\r\n\t\t\t} else {\r\n\t\t\t\tcontextAndStubs[name] = `div data-id=\"${component.id}\"></div`;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconst html = template(contextAndStubs);\r\n\r\n\t\tconst temp = document.createElement('template');\r\n\r\n\t\ttemp.innerHTML = html;\r\n\r\n\t\tconst replaceStub = (component: Block) => {\r\n\t\t\tconst stub = temp.content.querySelector(`[data-id=\"${component.id}\"]`);\r\n\r\n\t\t\tif (!stub) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tcomponent.getContent()?.append(...Array.from(stub.childNodes));\r\n\t\t\tstub.replaceWith(component.getContent()!);\r\n\t\t};\r\n\r\n\t\tObject.entries(this.children).forEach(([_, component]) => {\r\n\t\t\tif (Array.isArray(component)) {\r\n\t\t\t\tcomponent.forEach(replaceStub);\r\n\t\t\t} else {\r\n\t\t\t\treplaceStub(component);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn temp.content;\r\n\t}\r\n\r\n\tprotected render(): DocumentFragment {\r\n\t\treturn new DocumentFragment();\r\n\t}\r\n\r\n\tgetContent() {\r\n\t\tif (/\\/error404/.test(window.location.pathname)) {\r\n\t\t\tconst background = document.querySelector('.popup__backgraund') as HTMLElement;\r\n\t\t\tbackground.style.display = 'none';\r\n\t\t} else if (\r\n\t\t\tthis._element?.getAttribute('class') === 'popup' ||\r\n\t\t\t/\\/addUser/.test(window.location.pathname) ||\r\n\t\t\t/\\/deleteUser/.test(window.location.pathname)\r\n\t\t) {\r\n\t\t\tconst background = document.querySelector('.popup__backgraund') as HTMLElement;\r\n\t\t\tbackground.style.display = 'block';\r\n\t\t} else {\r\n\t\t\tconst background = document.querySelector('.popup__backgraund') as HTMLElement;\r\n\t\t\tbackground.style.display = 'none';\r\n\t\t}\r\n\t\treturn this.element;\r\n\t}\r\n\r\n\t_makePropsProxy(props: P) {\r\n\t\t// Ещё один способ передачи this, но он больше не применяется с приходом ES6+\r\n\t\tconst self = this;\r\n\r\n\t\treturn new Proxy(props, {\r\n\t\t\tget(target, prop: string) {\r\n\t\t\t\tconst value = target[prop];\r\n\t\t\t\treturn typeof value === 'function' ? value.bind(target) : value;\r\n\t\t\t},\r\n\t\t\tset(target, prop: string, value) {\r\n\t\t\t\tconst oldTarget = { ...target };\r\n\r\n\t\t\t\ttarget[prop as keyof P] = value;\r\n\r\n\t\t\t\t// Запускаем обновление компоненты\r\n\t\t\t\t// Плохой cloneDeep, в следующей итерации нужно заставлять добавлять cloneDeep им самим\r\n\t\t\t\tself.eventBus().emit(Block.EVENTS.FLOW_CDU, oldTarget, target);\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tdeleteProperty() {\r\n\t\t\t\tthrow new Error('Нет доступа');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","import Block from '../../../utils/Block';\r\nimport template from './_button.pug';\r\n\r\ninterface ButtonProps {\r\n\tlabel: string;\r\n\tclasses: string;\r\n\tevents?: {\r\n\t\tclick: (e: Event) => void;\r\n\t};\r\n\ttype?: string;\r\n}\r\nexport class Button extends Block<ButtonProps> {\r\n\tconstructor(props: ButtonProps) {\r\n\t\tsuper({ type: 'button', ...props });\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.compile(template, { ...this.props });\r\n\t}\r\n}\r\n","button.button(type=`${type}` class=`${classes}__button`)= `${label}`\r\n","import Block from '../../../utils/Block';\r\nimport template from './_profiles.pug';\r\nimport { Input } from '../input/Input';\r\ninterface IProfilesProp {\r\n\ttext: string;\r\n\tname: string;\r\n\ttype: string;\r\n\tplaceholder: string;\r\n}\r\nexport default class Profiles extends Block<IProfilesProp> {\r\n\tconstructor(props: IProfilesProp) {\r\n\t\tsuper({ ...props });\r\n\t}\r\n\tinit() {\r\n\t\tthis.children.input = new Input({\r\n\t\t\tname: this.props.name,\r\n\t\t\tclasses: 'profile',\r\n\t\t\ttype: this.props.type,\r\n\t\t\tplaceholder: this.props.placeholder\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.compile(template, { ...this.props });\r\n\t}\r\n}\r\n",".profile__content-elem\r\n    .profile__title #{text}\r\n    #{input}\r\n     ","import Validation from '../../../services/Validation';\r\nimport Block from '../../../utils/Block';\r\nimport template from './_input.pug';\r\n\r\ninterface IInputProps {\r\n\tname: string;\r\n\tclasses: string;\r\n\tplaceholder?: string;\r\n\tid?: string;\r\n\ttype?: string;\r\n\ttext?: string;\r\n\tevents?: {\r\n\t\tfocus?: (e: FocusEvent) => void;\r\n\t\tblur?: (e: FocusEvent) => void;\r\n\t\tinput?: (e: Event) => void;\r\n\t};\r\n}\r\nexport class Input extends Block<IInputProps> {\r\n\tconstructor(props: IInputProps) {\r\n\t\tsuper({\r\n\t\t\t...props,\r\n\t\t\tevents: { ...props.events, focus: new Validation().onFocus, blur: new Validation().onBlur }\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.compile(template, { ...this.props });\r\n\t}\r\n}\r\n","export default class Validation {\r\n\tonFocus = (e: FocusEvent) => {\r\n\t\tthis.checkInput(e);\r\n\t};\r\n\tonBlur = (e: FocusEvent) => {\r\n\t\tthis.checkInput(e);\r\n\t};\r\n\tcheckInput = (e: FocusEvent) => {\r\n\t\tconst input = e.target as HTMLInputElement;\r\n\t\tswitch (input.name) {\r\n\t\t\tcase 'email':\r\n\t\t\t\tthis.email(input);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'login':\r\n\t\t\t\tthis.login(input);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'first_name':\r\n\t\t\t\tthis.firstNameOrSecondName(input);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'second_name':\r\n\t\t\t\tthis.firstNameOrSecondName(input);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'phone':\r\n\t\t\t\tthis.phone(input);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'message':\r\n\t\t\t\tthis.message(input);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'password':\r\n\t\t\t\tthis.password(input);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'display_name':\r\n\t\t\t\tthis.login(input);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'oldPassword':\r\n\t\t\t\tthis.password(input);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'newPassword':\r\n\t\t\t\tthis.password(input);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'newPasswordRepeat':\r\n\t\t\t\tthis.passwordRepeat(input);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\temail = (input: HTMLInputElement) => {\r\n\t\tif (/^[\\w]+@[\\w]+\\.[A-Za-z]{2,}$/i.test(input.value)) {\r\n\t\t\tinput.classList.remove('validation');\r\n\t\t\tif (input.nextSibling) {\r\n\t\t\t\tinput.nextSibling.textContent = '';\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (input.nextSibling) {\r\n\t\t\t\tinput.nextSibling.textContent =\r\n\t\t\t\t\t'латиница, может включать цифры и спецсимволы вроде дефиса, обязательно должна быть «собака» (@) и точка после неё, но перед точкой обязательно должны быть буквы';\r\n\t\t\t}\r\n\t\t\tinput.classList.add('validation');\r\n\t\t}\r\n\t};\r\n\tlogin = (input: HTMLInputElement) => {\r\n\t\tif (\r\n\t\t\t/^[\\w\\S]{3,20}$/i.test(input.value) &&\r\n\t\t\tinput.value.match(/\\D/gi)?.length &&\r\n\t\t\t!input.value.match(/[`~!@#$%^&*()|+\\=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi)?.length\r\n\t\t) {\r\n\t\t\tinput.classList.remove('validation');\r\n\t\t\tif (input.nextSibling) {\r\n\t\t\t\tinput.nextSibling.textContent = '';\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (input.nextSibling) {\r\n\t\t\t\tinput.nextSibling.textContent =\r\n\t\t\t\t\t'от 3 до 20 символов, латиница, может содержать цифры, но не состоять из них, без пробелов, без спецсимволов (допустимы дефис и нижнее подчёркивание)';\r\n\t\t\t}\r\n\t\t\tinput.classList.add('validation');\r\n\t\t}\r\n\t};\r\n\tfirstNameOrSecondName = (input: HTMLInputElement) => {\r\n\t\tif (\r\n\t\t\t(/^[A-Z][A-Za-z]+$/.test(input.value) || /^[А-Я][А-Яа-яЁё]+$/.test(input.value)) &&\r\n\t\t\t!input.value.match(/[`~!@#$%^&*()|+\\=_?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi)?.length\r\n\t\t) {\r\n\t\t\tif (input.nextSibling) {\r\n\t\t\t\tinput.nextSibling.textContent = '';\r\n\t\t\t}\r\n\t\t\tinput.classList.remove('validation');\r\n\t\t} else {\r\n\t\t\tif (input.nextSibling) {\r\n\t\t\t\tinput.nextSibling.textContent =\r\n\t\t\t\t\t'латиница или кириллица, первая буква должна быть заглавной, без пробелов и без цифр, нет спецсимволов (допустим только дефис)';\r\n\t\t\t}\r\n\t\t\tinput.classList.add('validation');\r\n\t\t}\r\n\t};\r\n\tpassword = (input: HTMLInputElement) => {\r\n\t\tif (/\\w{8,40}/.test(input.value) && input.value.match(/[A-Z]/g) && input.value.match(/\\d/g)) {\r\n\t\t\tif (input.nextSibling) {\r\n\t\t\t\tinput.nextSibling.textContent = '';\r\n\t\t\t}\r\n\t\t\tinput.classList.remove('validation');\r\n\t\t} else {\r\n\t\t\tif (input.nextSibling) {\r\n\t\t\t\tinput.nextSibling.textContent =\r\n\t\t\t\t\t'от 8 до 40 символов, обязательно хотя бы одна заглавная буква и цифра';\r\n\t\t\t}\r\n\t\t\tinput.classList.add('validation');\r\n\t\t}\r\n\t};\r\n\tpasswordRepeat = (input: HTMLInputElement) => {\r\n\t\tif (/\\w{8,40}/.test(input.value) && input.value.match(/[A-Z]/g) && input.value.match(/\\d/g)) {\r\n\t\t\tif (input.nextSibling) {\r\n\t\t\t\tinput.nextSibling.textContent = '';\r\n\t\t\t}\r\n\t\t\tinput.classList.remove('validation');\r\n\t\t} else {\r\n\t\t\tif (input.nextSibling) {\r\n\t\t\t\tinput.nextSibling.textContent = 'пароль не совпадает';\r\n\t\t\t}\r\n\t\t\tinput.classList.add('validation');\r\n\t\t}\r\n\t};\r\n\tphone = (input: HTMLInputElement) => {\r\n\t\tif (/^\\+?\\d{10,15}$/.test(input.value)) {\r\n\t\t\tif (input.nextSibling) {\r\n\t\t\t\tinput.nextSibling.textContent = '';\r\n\t\t\t}\r\n\t\t\tinput.classList.remove('validation');\r\n\t\t} else {\r\n\t\t\tif (input.nextSibling) {\r\n\t\t\t\tinput.nextSibling.textContent =\r\n\t\t\t\t\t'от 10 до 15 символов, состоит из цифр, может начинается с плюса';\r\n\t\t\t}\r\n\t\t\tinput.classList.add('validation');\r\n\t\t}\r\n\t};\r\n\tmessage = (input: HTMLInputElement) => {\r\n\t\tif (input.value.length !== 0) {\r\n\t\t\tif (input.nextSibling) {\r\n\t\t\t\tinput.nextSibling.textContent = '';\r\n\t\t\t}\r\n\t\t\tinput.classList.remove('validationMessage');\r\n\t\t} else {\r\n\t\t\tif (input.nextSibling) {\r\n\t\t\t\tinput.nextSibling.textContent = 'не должно быть пустым';\r\n\t\t\t}\r\n\t\t\tinput.classList.add('validationMessage');\r\n\t\t}\r\n\t};\r\n}\r\n","div(class=`${classes}__inputs-input`)\r\n    if (id !== 'avatar' && id !== 'file')\r\n        input(name=`${name}`, type=`${type}`, placeholder=`${placeholder || ''}` id=`${id || ''}`)\r\n        label\r\n    if (id === 'avatar' || id === 'file')\r\n        input(name=`${name}`, type=`${type}`, placeholder=`${placeholder = ''}` id=`${id}`)\r\n        label(for=`${id}`) Выбрать файл на компьютере\r\n    ","if (trigger === 'profile')\r\n    .profile__content\r\n        .profile__content-elem\r\n            .profile__title Почта\r\n            .profile__value #{email}\r\n        .profile__content-elem\r\n            .profile__title Логин\r\n            .profile__value #{login}\r\n        .profile__content-elem\r\n            .profile__title Имя\r\n            .profile__value #{first_name}\r\n        .profile__content-elem\r\n            .profile__title Фамилия\r\n            .profile__value #{second_name}\r\n        .profile__content-elem\r\n            .profile__title Имя в чате\r\n            .profile__value #{display_name}\r\n        .profile__content-elem\r\n            .profile__title Телефон\r\n            .profile__value #{phone}\r\nif (trigger === 'data')\r\n    .profile__content\r\n        form#data.profile__content-form\r\n            #{emailInput}\r\n                #{loginInput}\r\n                    #{first_nameInput}\r\n                        #{second_nameInput}\r\n                            #{display_nameInput}\r\n                                #{phoneInput}\r\n                                    #{button}\r\nif (trigger === 'password')\r\n    .profile__content\r\n        form#password.profile__content-form\r\n                #{oldPasswordInput}\r\n                    #{newPasswordInput}\r\n                        #{newPassword2Input}\r\n                            #{button}\r\n                            ","import Block from '../../utils/Block';\r\nimport { Input } from '../../blocks/libs/input/Input';\r\nimport { Links } from '../../blocks/libs/links/Links';\r\nimport magnifier from '../../assets/icons/Union.png';\r\nimport trash from '../../assets/svg/trash.svg';\r\nimport menu from '../../assets/svg/menu.svg';\r\nimport picture from '../../assets/images/picture.png';\r\nimport checkMark from '../../assets/svg/checkMark.svg';\r\nimport checkMark2 from '../../assets/svg/checkMark2.svg';\r\nimport paperclip from '../../assets/icons/paperclip.png';\r\nimport photo from '../../assets/svg/photo.svg';\r\nimport file from '../../assets/svg/file.svg';\r\nimport send from '../../assets/svg/send.svg';\r\nimport template from './chats.pug';\r\nimport { ChatsList } from './ChatListBase/ChatListBase';\r\nimport { Button } from '../../blocks/libs/button/Button';\r\nimport { ChatController } from '../../Controllers/ChatsController';\r\nimport store, { withStore } from '../../store/Store';\r\nimport { MessageController } from '../../Controllers/MessagesController';\r\nimport { MessengerList } from './Messages/Messages';\r\n\r\nexport const images = {\r\n\tmagnifier,\r\n\ttrash,\r\n\tmenu,\r\n\tpicture,\r\n\tcheckMark,\r\n\tcheckMark2,\r\n\tpaperclip,\r\n\tphoto,\r\n\tfile,\r\n\tsend\r\n};\r\n\r\ninterface IChats {\r\n\tclasses?: string;\r\n}\r\n\r\nexport default class Chats extends Block<IChats> {\r\n\tconstructor(props: IChats) {\r\n\t\tsuper({ ...props });\r\n\t}\r\n\tinit() {\r\n\t\tChatController.fetchChats();\r\n\r\n\t\tthis.children.list = new ChatsList({});\r\n\r\n\t\tthis.children.messages = new MessengerList({});\r\n\t\tthis.children.link = new Links({\r\n\t\t\ttext: 'Профиль',\r\n\t\t\tclasses: 'chats',\r\n\t\t\thref: '/profile'\r\n\t\t});\r\n\t\tthis.children.photoOrVideo = new Links({\r\n\t\t\ttext: 'Фото или Видео',\r\n\t\t\tclasses: 'chats',\r\n\t\t\thref: '/messenger/addPhotoOrVideo',\r\n\t\t\tli: true\r\n\t\t});\r\n\t\tthis.children.file = new Links({\r\n\t\t\ttext: 'Файл',\r\n\t\t\tclasses: 'chats',\r\n\t\t\thref: '/messenger/addFile',\r\n\t\t\tli: true\r\n\t\t});\r\n\t\tthis.children.addUser = new Links({\r\n\t\t\ttext: 'Добавить пользователя',\r\n\t\t\tclasses: 'chats',\r\n\t\t\thref: '/messenger/addUser',\r\n\t\t\tli: true\r\n\t\t});\r\n\t\tthis.children.deleteUser = new Links({\r\n\t\t\ttext: 'Удалить пользователя',\r\n\t\t\tclasses: 'chats',\r\n\t\t\thref: '/messenger/deleteUser',\r\n\t\t\tli: true\r\n\t\t});\r\n\t\tthis.children.search = new Input({\r\n\t\t\tname: 'search',\r\n\t\t\tclasses: 'chats',\r\n\t\t\ttype: 'text',\r\n\t\t\tplaceholder: 'Поиск',\r\n\t\t\tevents: {\r\n\t\t\t\tinput: (e: Event) => {\r\n\t\t\t\t\tconst target = e.target as HTMLInputElement;\r\n\t\t\t\t\tconst regexp = new RegExp(`^${target.value}`, 'i');\r\n\t\t\t\t\tconst res = store.getState().chats.filter((obj: { title: string }) => {\r\n\t\t\t\t\t\treturn regexp.test(obj.title);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tstore.set('search', res);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.children.message = new Input({\r\n\t\t\tname: 'message',\r\n\t\t\tclasses: 'chats__message-input chats',\r\n\t\t\ttype: 'text',\r\n\t\t\tplaceholder: 'Сообщение'\r\n\t\t});\r\n\t\tthis.children.button = new Button({\r\n\t\t\tlabel: '',\r\n\t\t\tclasses: 'chats__message-send chats',\r\n\t\t\ttype: 'submit',\r\n\t\t\tevents: {\r\n\t\t\t\tclick: (e: Event) => {\r\n\t\t\t\t\tconst form: HTMLFormElement | null = document.querySelector('.chats__message-form');\r\n\t\t\t\t\tconst inputs = form?.querySelectorAll('input');\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tif (inputs) {\r\n\t\t\t\t\t\tfor (let i = 0; i < inputs.length; i++) {\r\n\t\t\t\t\t\t\tif (inputs[i].value === '') {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (form) {\r\n\t\t\t\t\t\tconst formData: FormData = new FormData(form);\r\n\t\t\t\t\t\tconst message = formData.get('message') as string;\r\n\t\t\t\t\t\tinputs![0].value = '';\r\n\r\n\t\t\t\t\t\tMessageController.sendMessage(store.getState().selectedChat!, message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.compile(template, { ...this.props });\r\n\t}\r\n}\r\n\r\nconst withSelectedChatMessages = withStore((state) => ({\r\n\t...state.user,\r\n\t...state.selectedChat\r\n}));\r\n\r\nexport const Messenger = withSelectedChatMessages(Chats);\r\n","import Block from '../../../utils/Block';\r\nimport ActivationRoute from '../../../utils/Routes';\r\nimport template from './_links.pug';\r\n\r\ninterface ILinksProps {\r\n\ttext?: string;\r\n\tclasses: string;\r\n\thref: string;\r\n\tevents?: {\r\n\t\tclick: (e: Event) => void;\r\n\t};\r\n\tli?: boolean;\r\n}\r\nexport class Links extends Block<ILinksProps> {\r\n\tconstructor(props: ILinksProps) {\r\n\t\tsuper({\r\n\t\t\t...props,\r\n\t\t\tevents: {\r\n\t\t\t\tclick: new ActivationRoute().onClick\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.compile(template, { ...this.props });\r\n\t}\r\n}\r\n","if (!li)\r\n    div(class=`${classes}__links`)\r\n        a(href= `${href}` class= `${classes}__link`)= text\r\nif (li)\r\n    a(href= `${href}` class= `${classes}__link`)= text\r\n    ","module.exports = require('./helpers/bundle-url').getBundleURL('hKh4f') + \"Union.a7305237.png\" + \"?\" + Date.now();","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('hKh4f') + \"trash.9f5322ca.svg\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('hKh4f') + \"menu.d4ddcbaa.svg\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('hKh4f') + \"picture.056bfe97.png\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('hKh4f') + \"checkMark.dfc88a5e.svg\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('hKh4f') + \"checkMark2.92b579f1.svg\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('hKh4f') + \"paperclip.106fc348.png\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('hKh4f') + \"photo.1f96badd.svg\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('hKh4f') + \"file.2f1e0ee5.svg\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('hKh4f') + \"send.a8adb7fc.svg\" + \"?\" + Date.now();","section.chats\r\n    .chats__block\r\n        .chats__block-left\r\n            .chats__item          \r\n                        #{link}\r\n                            .chats__input\r\n                                #{search}\r\n                                                    img(src=`${images.magnifier}` alt='лупа')\r\n                                #{list}\r\n                            .chats__block-right\r\n                                h3.chats__title Выберите чат чтобы отправить сообщение\r\n                            .chats__message\r\n                                .chats__message-header\r\n                                    .chats__message-avatar\r\n                                        .chats__message-img\r\n                                            img(src=`${avatar ? 'https://ya-praktikum.tech/api/v2/resources' + avatar : 'https://new.kemmamed.ru/upload/staff_photo_no.jpg'}` alt='avatar')\r\n                                        .chats__message-name\r\n                                    .chats__message-points\r\n                                        span\r\n                                        span\r\n                                        span\r\n                                                        ul.chats__message-menu\r\n                                                                                li \r\n                                                                                    img(src=`${images.menu}` alt='плюс')\r\n                                                                                    #{addUser}\r\n                                                                                                                        li \r\n                                                                                                                            img(src=`${images.menu}` alt='крестик')\r\n                                                                                                                            #{deleteUser}\r\n                            .chats__message-content                              \r\n                                #{messages}\r\n                                form.chats__message-form\r\n                                                        #{message}\r\n                                                            #{button}\r\n","import Block from '../../../utils/Block';\r\nimport template from './ChatListBase.pug';\r\nimport { Chat } from './ChatList/ChatList';\r\nimport { withStore } from '../../../store/Store';\r\nimport { IChatInfo } from '../../../api/ChatAPI';\r\nimport { ChatController } from '../../../Controllers/ChatsController';\r\n\r\ninterface ChatsListProps {\r\n\tchats: IChatInfo[];\r\n}\r\n\r\nclass ChatsListBase extends Block<ChatsListProps> {\r\n\tconstructor(props: ChatsListProps) {\r\n\t\tsuper({ ...props });\r\n\t}\r\n\r\n\tprotected init() {\r\n\t\tthis.children.chats = this.createChats(this.props);\r\n\t}\r\n\tprotected componentDidUpdate(_oldProps: ChatsListProps, newProps: ChatsListProps): boolean {\r\n\t\tthis.children.chats = this.createChats(newProps);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate createChats(props: ChatsListProps) {\r\n\t\tconst chats = props.chats.map((chat) => {\r\n\t\t\tconst hours = new Date(chat.last_message?.time).getHours();\r\n\t\t\tconst minutes = new Date(chat.last_message?.time).getMinutes();\r\n\t\t\treturn {\r\n\t\t\t\t...chat,\r\n\t\t\t\tlast_message: chat.last_message\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t...chat.last_message,\r\n\t\t\t\t\t\t\ttime: `${hours < 10 ? '0' + hours : hours}:${minutes < 10 ? '0' + minutes : minutes}`\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: null\r\n\t\t\t};\r\n\t\t});\r\n\t\treturn chats.map((data) => {\r\n\t\t\treturn new Chat({\r\n\t\t\t\t...data,\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\tChatController.selectChat(data.id);\r\n\t\t\t\t\t\t(document.querySelector('.chats__message-form') as HTMLElement).style.display = 'flex';\r\n\t\t\t\t\t\t(document.querySelector('.chats__block-right') as HTMLElement).style.display = 'none';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprotected render() {\r\n\t\treturn this.compile(template, { ...this.props });\r\n\t}\r\n}\r\n\r\nconst withChats = withStore((state) => {\r\n\tif (\r\n\t\tstate.selectedChat &&\r\n\t\tdocument.querySelector('.chats__message-form') &&\r\n\t\tdocument.querySelector('.chats__block-right')\r\n\t) {\r\n\t\t(document.querySelector('.chats__message-form') as HTMLElement).style.display = 'flex';\r\n\t\t(document.querySelector('.chats__block-right') as HTMLElement).style.display = 'none';\r\n\t}\r\n\tif (state.selectedChat) {\r\n\t\treturn { chats: [...(state.search || [])], selectedChat: { ...state.selectedChat } };\r\n\t}\r\n\treturn { chats: [...(state.search || [])] };\r\n});\r\n\r\nexport const ChatsList = withChats(ChatsListBase);\r\n","ul.chats__friends\r\n    each val in chats\r\n        #{val} \r\n","import Block from '../../../../utils/Block';\r\nimport template from './chatList.pug';\r\nimport { withStore } from '../../../../store/Store';\r\nimport { IChatInfo } from '../../../../api/ChatAPI';\r\n\r\ninterface ChatProps {\r\n\tid: number;\r\n\ttitle: string;\r\n\tunread_count: number;\r\n\tselectedChat: IChatInfo;\r\n\tevents: {\r\n\t\tclick: () => void;\r\n\t};\r\n}\r\n\r\nclass ChatBase extends Block<ChatProps> {\r\n\tconstructor(props: ChatProps) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tprotected render() {\r\n\t\treturn this.compile(template, {\r\n\t\t\t...this.props,\r\n\t\t\tisSelected: this.props.id === this.props.selectedChat?.id\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport const withSelectedChat = withStore((state) => {\r\n\treturn {\r\n\t\tselectedChat: (state.search || []).find((list: IChatInfo, i: number) => {\r\n\t\t\tif (state.selectedChat === list.id) {\r\n\t\t\t\tdocument.querySelectorAll('.chats__friends-list')[i]?.classList.add('background-link');\r\n\t\t\t\treturn list.id === state.selectedChat;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t})\r\n\t};\r\n});\r\n\r\nexport const Chat = withSelectedChat(ChatBase);\r\n","li.chats__friends-list\r\n    .chats__friends-img\r\n        img(src=`${last_message ? 'https://ya-praktikum.tech/api/v2/resources' + last_message.user.avatar : 'https://new.kemmamed.ru/upload/staff_photo_no.jpg'}`)\r\n    .chats__friends-middle\r\n        .chats__friends-name #{title}\r\n        .chats__friends-text #{last_message ? last_message.content : null}\r\n    .chats__friends-right\r\n        .chats__friends-time #{last_message ? last_message.time : null}\r\n        .chats__friends-count #{unread_count}   \r\n","import API, { ChatsAPI } from '../api/ChatAPI';\r\nimport store from '../store/Store';\r\nimport { MessageController } from './MessagesController';\r\n\r\nclass ChatsController {\r\n\tprivate readonly api: ChatsAPI;\r\n\r\n\tconstructor() {\r\n\t\tthis.api = API;\r\n\t}\r\n\r\n\tasync create(title: string, input: HTMLInputElement) {\r\n\t\tawait this.api.create(title).then(() => {\r\n\t\t\tinput.value = '';\r\n\t\t});\r\n\r\n\t\tthis.fetchChats();\r\n\t}\r\n\r\n\tasync fetchChats() {\r\n\t\tconst chats = await this.api.read();\r\n\r\n\t\tchats.map(async (chat) => {\r\n\t\t\tconst token = await this.getToken(chat.id);\r\n\t\t\tawait MessageController.connect(chat.id, token);\r\n\t\t});\r\n\t\tstore.set('chats', chats);\r\n\t\tstore.set('search', chats);\r\n\t}\r\n\r\n\taddUserToChat(id: number, userId: number) {\r\n\t\tthis.api.addUsers(id, [userId]);\r\n\t}\r\n\r\n\tasync delete(id: number, input: HTMLInputElement) {\r\n\t\tawait this.api\r\n\t\t\t.delete(+id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tinput.value = '';\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\r\n\t\tthis.fetchChats();\r\n\t}\r\n\r\n\tgetToken(id: number) {\r\n\t\treturn this.api.getToken(id);\r\n\t}\r\n\r\n\tselectChat(id: number) {\r\n\t\tstore.set('selectedChat', id);\r\n\t}\r\n}\r\n\r\nexport const ChatController = new ChatsController();\r\n","import { IUser } from './AuthAPI';\r\nimport HTTPTransport from '../services/Requests';\r\n\r\nexport interface IChatInfo {\r\n\tid: number;\r\n\ttitle: string;\r\n\tavatar: string;\r\n\tunread_count: number;\r\n\tlast_message: {\r\n\t\tuser: IUser;\r\n\t\ttime: string;\r\n\t\tcontent: string;\r\n\t};\r\n}\r\n\r\nexport class ChatsAPI {\r\n\trequest: HTTPTransport;\r\n\tconstructor() {\r\n\t\tthis.request = new HTTPTransport();\r\n\t}\r\n\r\n\tcreate(title: string) {\r\n\t\treturn this.request.post('chats', {\r\n\t\t\theaders: { accept: 'application/json', 'Content-Type': 'application/json' },\r\n\t\t\tdata: { title }\r\n\t\t});\r\n\t}\r\n\r\n\tdelete(id: number): Promise<unknown> {\r\n\t\treturn this.request.delete('chats', {\r\n\t\t\theaders: { accept: 'application/json', 'Content-Type': 'application/json' },\r\n\t\t\tdata: { chatId: id }\r\n\t\t});\r\n\t}\r\n\r\n\tread(): Promise<IChatInfo[]> {\r\n\t\treturn this.request.get('chats');\r\n\t}\r\n\r\n\tgetUsers(id: number): Promise<Array<IUser & { role: string }>> {\r\n\t\treturn this.request.get(`chats/${id}/users`);\r\n\t}\r\n\r\n\taddUsers(id: number, users: number[]): Promise<unknown> {\r\n\t\treturn this.request.put('chats/users', { users, chatId: id });\r\n\t}\r\n\r\n\tasync getToken(id: number): Promise<string> {\r\n\t\tconst response = await this.request.post<{ token: string }>(`chats/token/${id}`);\r\n\r\n\t\treturn response.token;\r\n\t}\r\n\r\n\tupdate = undefined;\r\n}\r\n\r\nexport default new ChatsAPI();\r\n","import WSTransport, { WSTransportEvents } from '../services/WSTransport';\r\nimport store from '../store/Store';\r\n\r\nexport interface IMessage {\r\n\tchat_id: number;\r\n\ttime: string;\r\n\ttype: string;\r\n\tuser_id: number;\r\n\tcontent: string;\r\n\tfile?: {\r\n\t\tid: number;\r\n\t\tuser_id: number;\r\n\t\tpath: string;\r\n\t\tfilename: string;\r\n\t\tcontent_type: string;\r\n\t\tcontent_size: number;\r\n\t\tupload_date: string;\r\n\t};\r\n}\r\n\r\nclass MessagesController {\r\n\tprivate sockets: Map<number, WSTransport> = new Map();\r\n\r\n\tasync connect(id: number, token: string) {\r\n\t\tif (this.sockets.has(id)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst userId = store.getState().user.id;\r\n\t\tconst wsTransport = new WSTransport(\r\n\t\t\t`wss://ya-praktikum.tech/ws/chats/${userId}/${id}/${token}`\r\n\t\t);\r\n\r\n\t\tthis.sockets.set(id, wsTransport);\r\n\r\n\t\tawait wsTransport.connect();\r\n\r\n\t\tthis.subscribe(wsTransport, id);\r\n\t\tthis.fetchOldMessages(id);\r\n\t}\r\n\r\n\tsendMessage(id: number, message: string) {\r\n\t\tconst socket = this.sockets.get(id);\r\n\r\n\t\tif (!socket) {\r\n\t\t\tthrow new Error(`Chat ${id} is not connected`);\r\n\t\t}\r\n\r\n\t\tsocket.send({\r\n\t\t\ttype: 'message',\r\n\t\t\tcontent: message\r\n\t\t});\r\n\t}\r\n\r\n\tfetchOldMessages(id: number) {\r\n\t\tconst socket = this.sockets.get(id);\r\n\r\n\t\tif (!socket) {\r\n\t\t\tthrow new Error(`Chat ${id} is not connected`);\r\n\t\t}\r\n\r\n\t\tsocket.send({ type: 'get old', content: '0' });\r\n\t}\r\n\r\n\tcloseAll() {\r\n\t\tArray.from(this.sockets.values()).forEach((socket) => socket.close());\r\n\t}\r\n\r\n\tprivate onMessage(id: number, messages: IMessage | IMessage[]) {\r\n\t\tlet messagesToAdd: IMessage[] = [];\r\n\r\n\t\tif (Array.isArray(messages)) {\r\n\t\t\tmessagesToAdd = messages.reverse();\r\n\t\t} else {\r\n\t\t\tmessagesToAdd.push(messages);\r\n\t\t}\r\n\r\n\t\tconst currentMessages = (store.getState().messages || {})[id] || [];\r\n\r\n\t\tmessagesToAdd = [...currentMessages, ...messagesToAdd];\r\n\r\n\t\tstore.set(`messages.${id}`, messagesToAdd);\r\n\t}\r\n\r\n\tprivate onClose(id: number) {\r\n\t\tthis.sockets.delete(id);\r\n\t}\r\n\r\n\tprivate subscribe(transport: WSTransport, id: number) {\r\n\t\ttransport.on(WSTransportEvents.Message, (message) => this.onMessage(id, message));\r\n\t\ttransport.on(WSTransportEvents.Close, () => this.onClose(id));\r\n\t}\r\n}\r\n\r\nexport const MessageController = new MessagesController();\r\n","import EventBus from '../utils/Event-bus';\r\n\r\nexport enum WSTransportEvents {\r\n\tConnected = 'connected',\r\n\tError = 'error',\r\n\tMessage = 'message',\r\n\tClose = 'close'\r\n}\r\n\r\nexport default class WSTransport extends EventBus {\r\n\tprivate socket: WebSocket | null = null;\r\n\tprivate pingInterval: number = 0;\r\n\r\n\tconstructor(private url: string) {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic send(data: unknown) {\r\n\t\tif (!this.socket) {\r\n\t\t\tthrow new Error('Socket is not connected');\r\n\t\t}\r\n\r\n\t\tthis.socket.send(JSON.stringify(data));\r\n\t}\r\n\r\n\tpublic connect(): Promise<void> {\r\n\t\tthis.socket = new WebSocket(this.url);\r\n\r\n\t\tthis.subscribe(this.socket);\r\n\r\n\t\tthis.setupPing();\r\n\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tthis.on(WSTransportEvents.Connected, () => {\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tpublic close() {\r\n\t\tthis.socket?.close();\r\n\t}\r\n\r\n\tprivate setupPing() {\r\n\t\tthis.pingInterval = setInterval(() => {\r\n\t\t\tthis.send({ type: 'ping' });\r\n\t\t}, 5000);\r\n\r\n\t\tthis.on(WSTransportEvents.Close, () => {\r\n\t\t\tclearInterval(this.pingInterval);\r\n\r\n\t\t\tthis.pingInterval = 0;\r\n\t\t});\r\n\t}\r\n\r\n\tprivate subscribe(socket: WebSocket) {\r\n\t\tsocket.addEventListener('open', () => {\r\n\t\t\tthis.emit(WSTransportEvents.Connected);\r\n\t\t});\r\n\t\tsocket.addEventListener('close', () => {\r\n\t\t\tthis.emit(WSTransportEvents.Close);\r\n\t\t});\r\n\r\n\t\tsocket.addEventListener('error', (e) => {\r\n\t\t\tthis.emit(WSTransportEvents.Error, e);\r\n\t\t});\r\n\r\n\t\tsocket.addEventListener('message', (message) => {\r\n\t\t\tconst data = JSON.parse(message.data);\r\n\r\n\t\t\tif (data.type && data.type === 'pong') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.emit(WSTransportEvents.Message, data);\r\n\t\t});\r\n\t}\r\n}\r\n","import Block from '../../../utils/Block';\r\nimport template from './messages.pug';\r\nimport { Message } from '../Message/Message';\r\nimport { withStore } from '../../../store/Store';\r\nimport { IMessage } from '../../../Controllers/MessagesController';\r\n\r\ninterface MessengerProps {\r\n\tselectedChat: number | undefined;\r\n\tmessages: IMessage[];\r\n\tuserId: number;\r\n}\r\n\r\nclass MessengerBase extends Block<MessengerProps> {\r\n\tconstructor(props: MessengerProps) {\r\n\t\tsuper(props);\r\n\t}\r\n\tprotected init() {\r\n\t\tthis.children.messages = this.createMessages(this.props);\r\n\t}\r\n\r\n\tprotected componentDidUpdate(_oldProps: MessengerProps, newProps: MessengerProps): boolean {\r\n\t\tthis.children.messages = this.createMessages(newProps);\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate createMessages(props: MessengerProps) {\r\n\t\treturn props.messages.map((data) => {\r\n\t\t\tconst hours = new Date(data.time).getHours();\r\n\t\t\tconst minutes = new Date(data.time).getMinutes();\r\n\t\t\tconst newData = {\r\n\t\t\t\t...data,\r\n\t\t\t\ttime: `${hours < 10 ? '0' + hours : hours}:${minutes < 10 ? '0' + minutes : minutes}`\r\n\t\t\t};\r\n\t\t\treturn new Message({ ...newData, isMine: props.userId === data.user_id });\r\n\t\t});\r\n\t}\r\n\r\n\tprotected render() {\r\n\t\treturn this.compile(template, { ...this.props });\r\n\t}\r\n}\r\n\r\nconst withSelectedChatMessages = withStore((state) => {\r\n\tconst selectedChatId = state.selectedChat;\r\n\r\n\tif (!selectedChatId) {\r\n\t\treturn {\r\n\t\t\tmessages: [],\r\n\t\t\tselectedChat: undefined,\r\n\t\t\tuserId: state.user?.id\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tmessages: (state.messages || {})[selectedChatId] || [],\r\n\t\tselectedChat: state.selectedChat,\r\n\t\tuserId: state.user?.id\r\n\t};\r\n});\r\n\r\nexport const MessengerList = withSelectedChatMessages(MessengerBase);\r\n","ul.chats__message-section\r\n    each val in messages\r\n        #{val} \r\n        ","import Block from '../../../utils/Block';\r\nimport template from './message.pug';\r\n\r\ninterface MessageProps {\r\n\tcontent: string;\r\n\tisMine: boolean;\r\n}\r\n\r\nexport class Message extends Block<MessageProps> {\r\n\tconstructor(props: MessageProps) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tprotected render() {\r\n\t\treturn this.compile(template, { ...this.props });\r\n\t}\r\n}\r\n","li(class=`chats__message-wrapper ${isMine ? 'chats__message-your' : 'chats__message-friend'}`)\r\n    div(class='chats__message-text_your chats__message-text ') #{content}\r\n                span #{time}\r\n","import Block from '../../utils/Block';\r\nimport { Button } from '../../blocks/libs/button/Button';\r\nimport { Input } from '../../blocks/libs/input/Input';\r\nimport { Links } from '../../blocks/libs/links/Links';\r\nimport template from './entrance.pug';\r\nimport { AuthentificationController } from '../../Controllers/AuthController';\r\n\r\nexport default class Entrance extends Block {\r\n\tconstructor() {\r\n\t\tsuper({});\r\n\t}\r\n\tinit() {\r\n\t\tthis.children.login = new Input({\r\n\t\t\tname: 'login',\r\n\t\t\tclasses: 'entrance',\r\n\t\t\ttype: 'text'\r\n\t\t});\r\n\t\tthis.children.password = new Input({\r\n\t\t\tname: 'password',\r\n\t\t\tclasses: 'entrance',\r\n\t\t\ttype: 'password'\r\n\t\t});\r\n\t\tthis.children.button = new Button({\r\n\t\t\tlabel: 'Авторизоваться',\r\n\t\t\tclasses: 'entrance',\r\n\t\t\ttype: 'submit',\r\n\t\t\tevents: {\r\n\t\t\t\tclick: this.onSubmit\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.children.link = new Links({\r\n\t\t\ttext: 'Нет аккаунта?',\r\n\t\t\tclasses: 'entrance',\r\n\t\t\thref: '/sign-up'\r\n\t\t});\r\n\t}\r\n\tonSubmit(e: Event) {\r\n\t\tconst form: HTMLFormElement | null = document.querySelector('.entrance__form');\r\n\t\tconst inputs = form?.querySelectorAll('input');\r\n\t\te.preventDefault();\r\n\t\tif (inputs) {\r\n\t\t\tfor (let i = 0; i < inputs.length; i++) {\r\n\t\t\t\tif (inputs[i].classList.contains('validation') || inputs[i].value === '') {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (form) {\r\n\t\t\tconst formData: FormData = new FormData(form);\r\n\t\t\tconst data = {\r\n\t\t\t\tlogin: formData.get('login')! as string,\r\n\t\t\t\tpassword: formData.get('password')! as string\r\n\t\t\t};\r\n\t\t\tAuthentificationController.signin({\r\n\t\t\t\tdata,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn this.compile(template, { ...this.props });\r\n\t}\r\n}\r\n","section.entrance\r\n    h1.entrance__title Добро пожаловать в наше современное приложение!\r\n    .entrance__wrapper\r\n        h2(class=`entrance__title-sub`) Вход\r\n        form(class=`entrance__form`)\r\n                                    div(class=`entrance__inputs`)\r\n                                        #{login}\r\n                                            #{password}\r\n                                                div(class=`entrance__buttons`)\r\n                                                    #{button}\r\n                                                        #{link}\r\n        ","import Block from '../../utils/Block';\r\nimport { Button } from '../../blocks/libs/button/Button';\r\nimport { Input } from '../../blocks/libs/input/Input';\r\nimport template from './popup.pug';\r\nimport { AuthentificationController } from '../../Controllers/AuthController';\r\nimport { ChatController } from '../../Controllers/ChatsController';\r\nimport store from '../../store/Store';\r\nimport { IChatInfo } from '../../api/ChatAPI';\r\n\r\ninterface IPopup {\r\n\ttitle: string;\r\n\tname: string;\r\n\tlabel: string;\r\n\tid: string;\r\n\tevents: {\r\n\t\tsubmit: (e: Event) => void;\r\n\t};\r\n\tplaceholder?: string;\r\n\ttypeInput?: string;\r\n\ttypeButton?: string;\r\n}\r\n\r\nexport default class Popup extends Block {\r\n\tconstructor(props: IPopup) {\r\n\t\tsuper({ ...props });\r\n\t}\r\n\tinit() {\r\n\t\tthis.children.input = new Input({\r\n\t\t\tname: this.props.name,\r\n\t\t\tclasses: `popup__input popup`,\r\n\t\t\tid: this.props.id,\r\n\t\t\ttype: this.props.typeInput\r\n\t\t});\r\n\t\tthis.children.button = new Button({\r\n\t\t\tlabel: this.props.label,\r\n\t\t\tclasses: 'popup',\r\n\t\t\ttype: this.props.typeButton\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.compile(template, { ...this.props });\r\n\t}\r\n}\r\n\r\nexport const onSubmitPopup = (e: Event, id: string) => {\r\n\tconst form: HTMLFormElement | null = document.querySelector(`#popup__${id} form`);\r\n\tconst inputs = form?.querySelectorAll('input');\r\n\te.preventDefault();\r\n\tif (inputs) {\r\n\t\tfor (let i = 0; i < inputs.length; i++) {\r\n\t\t\tif (inputs[i].classList.contains('validation') || inputs[i].value === '') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (form) {\r\n\t\tconst formData: FormData = new FormData(form);\r\n\t\tif (id === 'add') {\r\n\t\t\tconst title = formData.get('login') as string;\r\n\r\n\t\t\tChatController.create(title, inputs![0]);\r\n\t\t} else if (id === 'avatar') {\r\n\t\t\tconst formData: FormData = new FormData();\r\n\t\t\tconst input: HTMLInputElement = inputs![0];\r\n\r\n\t\t\tformData.append('avatar', input.files?.item(0)!);\r\n\t\t\tAuthentificationController.changeAvatar(formData);\r\n\t\t} else if (id === 'delete') {\r\n\t\t\tconst allChats = store.getState();\r\n\t\t\tconst id = allChats.chats.find((chat: IChatInfo) => chat.title === formData.get('login')).id;\r\n\t\t\tChatController.delete(id, inputs![0]);\r\n\t\t}\r\n\t}\r\n};\r\n","if (typeInput === 'text')\r\n    section(class='popup' id=`popup__${id}`)\r\n        .popup__wrapper\r\n            .popup__title= title\r\n            form.popup__form\r\n                    #{input}\r\n                            #{button}\r\nif (typeInput === 'file')\r\n    section(class='popup' id=`popup__${id}`)\r\n        .popup__wrapper\r\n            .popup__title= title\r\n            form.popup__form\r\n                #{input}\r\n                    #{button}\r\n                    ","import Block from '../../utils/Block';\r\nimport { Links } from '../../blocks/libs/links/Links';\r\nimport template from './profile.pug';\r\nimport { withStore } from '../../store/Store';\r\nimport { AuthentificationController } from '../../Controllers/AuthController';\r\n\r\nexport interface IProfile {\r\n\tevents: {\r\n\t\tclick: () => void;\r\n\t};\r\n}\r\n\r\nexport default class Profile extends Block<IProfile> {\r\n\tconstructor(props: IProfile) {\r\n\t\tsuper({ ...props });\r\n\t}\r\n\tinit() {\r\n\t\tAuthentificationController.fetchUser();\r\n\r\n\t\tthis.children.chat = new Links({\r\n\t\t\ttext: 'Чат',\r\n\t\t\tclasses: 'profile',\r\n\t\t\thref: '/messenger',\r\n\t\t\tli: true\r\n\t\t});\r\n\t\tthis.children.profile = new Links({\r\n\t\t\ttext: 'Профиль',\r\n\t\t\tclasses: 'profile__menu-active profile',\r\n\t\t\thref: '/profile',\r\n\t\t\tli: true\r\n\t\t});\r\n\t\tthis.children.data = new Links({\r\n\t\t\ttext: 'Изменить данные',\r\n\t\t\tclasses: 'profile',\r\n\t\t\thref: '/profile/data',\r\n\t\t\tli: true\r\n\t\t});\r\n\t\tthis.children.password = new Links({\r\n\t\t\ttext: 'Изменить пароль',\r\n\t\t\tclasses: 'profile',\r\n\t\t\thref: '/profile/password',\r\n\t\t\tli: true\r\n\t\t});\r\n\t\tthis.children.exit = new Links({\r\n\t\t\ttext: 'Выйти',\r\n\t\t\tclasses: 'profile',\r\n\t\t\thref: '#',\r\n\t\t\tli: true\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.compile(template, { ...this.props });\r\n\t}\r\n}\r\n\r\nconst withUser = withStore((state) => ({ ...state.user }));\r\n\r\nexport const ProfilePage = withUser<IProfile>(Profile);\r\n","\r\nsection.profile\r\n    ul.profile__menu\r\n        li.profile__item\r\n            #{chat}\r\n        li.profile__item\r\n            #{profile}\r\n        li.profile__item\r\n            #{data}\r\n        li.profile__item\r\n            #{password}\r\n        li.profile__item\r\n            #{exit}\r\n    .profile__wrapper\r\n        .profile__header\r\n            div(class='profile__avatar') \r\n                    img(src=`${avatar ? 'https://ya-praktikum.tech/api/v2/resources' + avatar : 'https://new.kemmamed.ru/upload/staff_photo_no.jpg'}` alt='avatar')\r\n                    div(class='profile__hover' data-href='/profile/changeAvatar') Поменять аватар\r\n            h3.profile__name #{first_name} \r\n        \r\n\r\n","import Block from '../../utils/Block';\r\nimport { Button } from '../../blocks/libs/button/Button';\r\nimport { Input } from '../../blocks/libs/input/Input';\r\nimport { Links } from '../../blocks/libs/links/Links';\r\nimport { AuthentificationController } from '../../Controllers/AuthController';\r\nimport { ISignupBody } from '../../api/AuthAPI';\r\nimport template from './registration.pug';\r\n\r\ninterface IRegistration {\r\n\tclasses?: string;\r\n\tevents: {\r\n\t\tsubmit: (e: Event) => void;\r\n\t};\r\n}\r\n\r\nexport default class Registration extends Block {\r\n\tconstructor(props: IRegistration) {\r\n\t\tsuper({ ...props });\r\n\t}\r\n\tinit() {\r\n\t\tthis.children.email = new Input({\r\n\t\t\tname: 'email',\r\n\t\t\tclasses: 'registration',\r\n\t\t\ttype: 'email'\r\n\t\t});\r\n\t\tthis.children.login = new Input({\r\n\t\t\tname: 'login',\r\n\t\t\tclasses: 'registration',\r\n\t\t\ttype: 'text'\r\n\t\t});\r\n\t\tthis.children.first_name = new Input({\r\n\t\t\tname: 'first_name',\r\n\t\t\tclasses: 'registration',\r\n\t\t\ttype: 'first_name'\r\n\t\t});\r\n\t\tthis.children.second_name = new Input({\r\n\t\t\tname: 'second_name',\r\n\t\t\tclasses: 'registration',\r\n\t\t\ttype: 'text'\r\n\t\t});\r\n\t\tthis.children.phone = new Input({\r\n\t\t\tname: 'phone',\r\n\t\t\tclasses: 'registration',\r\n\t\t\ttype: 'tel'\r\n\t\t});\r\n\t\tthis.children.password = new Input({\r\n\t\t\tname: 'password',\r\n\t\t\tclasses: 'registration',\r\n\t\t\ttype: 'password'\r\n\t\t});\r\n\t\tthis.children.passwordReplay = new Input({\r\n\t\t\tname: 'passwordRepeat',\r\n\t\t\tclasses: 'registration',\r\n\t\t\ttype: 'password'\r\n\t\t});\r\n\t\tthis.children.button = new Button({\r\n\t\t\tlabel: 'Зарегистрироваться',\r\n\t\t\tclasses: 'registration',\r\n\t\t\ttype: 'submit'\r\n\t\t});\r\n\t\tthis.children.link = new Links({\r\n\t\t\ttext: 'Войти',\r\n\t\t\tclasses: 'registration',\r\n\t\t\thref: '/'\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.compile(template, { ...this.props });\r\n\t}\r\n}\r\n\r\nexport const onSubmitRegistration = (e: Event) => {\r\n\te.preventDefault();\r\n\r\n\tconst form: HTMLFormElement | null = document.querySelector('.registration__form');\r\n\tconst inputs = form?.querySelectorAll('input');\r\n\tif (inputs) {\r\n\t\tfor (let i = 0; i < inputs.length; i++) {\r\n\t\t\tif (inputs[i].classList.contains('validation') || inputs[i].value === '') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (form) {\r\n\t\tconst formData: FormData = new FormData(form);\r\n\t\tconst data = {\r\n\t\t\temail: formData.get('email'),\r\n\t\t\tlogin: formData.get('login'),\r\n\t\t\tfirst_name: formData.get('first_name'),\r\n\t\t\tsecond_name: formData.get('second_name'),\r\n\t\t\tphone: formData.get('phone'),\r\n\t\t\tpassword: formData.get('password')\r\n\t\t};\r\n\t\tAuthentificationController.signup({\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tdata: data as ISignupBody\r\n\t\t});\r\n\t}\r\n};\r\n","section.registration\r\n    .registration__wrapper\r\n        h2(class=`${classes}__title`) Регистрация\r\n        form(class=`${classes}__form`)\r\n            div(class=`${classes}__inputs`)\r\n                #{email}\r\n                    #{login}\r\n                        #{first_name}\r\n                            #{second_name}\r\n                                #{phone}\r\n                                    #{password}\r\n                                        #{passwordReplay}\r\n                                            div(class=`${classes}__buttons`)\r\n                                                #{button}\r\n                                                    #{link}\r\n                                                    ","import Popup from '../../pages/popup/Popup';\r\nimport Block from '../Block';\r\nimport Route from './Route';\r\n\r\nclass Router {\r\n\tprivate static __instance: Router;\r\n\tprivate routes: Route[] = [];\r\n\tprivate currentRoute: Route | null = null;\r\n\tprivate history = window.history;\r\n\r\n\tconstructor(private readonly rootQuery: string) {\r\n\t\tif (Router.__instance) {\r\n\t\t\treturn Router.__instance;\r\n\t\t}\r\n\t\tthis.routes = [];\r\n\r\n\t\tRouter.__instance = this;\r\n\t}\r\n\r\n\tpublic use(pathname: string, block: typeof Block, props: object = {}) {\r\n\t\tconst route = new Route(pathname, block, this.rootQuery, props);\r\n\t\tthis.routes.push(route);\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic start() {\r\n\t\twindow.onpopstate = (event: PopStateEvent) => {\r\n\t\t\tconst target = event.currentTarget as Window;\r\n\r\n\t\t\tthis._onRoute(target.location.pathname);\r\n\t\t};\r\n\r\n\t\tthis._onRoute(window.location.pathname);\r\n\t}\r\n\r\n\tprivate _onRoute(pathname: string) {\r\n\t\tconst checkPathname = this.routes.find((route) => route.match(pathname));\r\n\t\tif (checkPathname) {\r\n\t\t\tconst route = this.getRoute(pathname);\r\n\t\t\troute.forEach((route) => {\r\n\t\t\t\tif (!route) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.currentRoute && this.currentRoute !== route) {\r\n\t\t\t\t\tthis.currentRoute.leave();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.currentRoute = route;\r\n\t\t\t\tconst checkClass = route.blockClass;\r\n\r\n\t\t\t\tif (checkClass === Popup) {\r\n\t\t\t\t\troute.render('body');\r\n\t\t\t\t} else {\r\n\t\t\t\t\troute.render();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else if (pathname === '/' || pathname === '/sign-up') {\r\n\t\t\tthis.go('/messenger');\r\n\t\t} else {\r\n\t\t\tthis.go('/error404');\r\n\t\t}\r\n\t}\r\n\r\n\tpublic go(pathname: string) {\r\n\t\tthis.history.pushState({}, '', pathname);\r\n\r\n\t\tthis._onRoute(pathname);\r\n\t}\r\n\r\n\tpublic back() {\r\n\t\tthis.history.back();\r\n\t}\r\n\r\n\tpublic forward() {\r\n\t\tthis.history.forward();\r\n\t}\r\n\r\n\tprivate getRoute(pathname: string) {\r\n\t\treturn this.routes.filter((route) => route.match(pathname));\r\n\t}\r\n}\r\n\r\nexport default new Router('#app');\r\n","import { ContentPage } from '../../blocks/libs/profiles/content/Content';\r\nimport Chats from '../../pages/chats/Chats';\r\nimport Popup from '../../pages/popup/Popup';\r\nimport { ProfilePage } from '../../pages/profile/Profile';\r\nimport Block from '../Block';\r\n\r\nfunction isEqual(lhs: string, rhs: string): boolean {\r\n\treturn lhs === rhs;\r\n}\r\n\r\nfunction render(query: string, block: Block) {\r\n\tconst root = document.querySelector(query);\r\n\tif (root === null) {\r\n\t\tthrow new Error(`root not found by selector \"${query}\"`);\r\n\t}\r\n\tif (\r\n\t\t(block instanceof Chats && document.querySelector('.popup')) ||\r\n\t\t(block instanceof ProfilePage && document.querySelector('.popup'))\r\n\t) {\r\n\t\tdocument.querySelector('.popup')?.remove();\r\n\t} else if (!(block instanceof Popup)) {\r\n\t\tif (block instanceof ProfilePage && document.querySelector('.profile')) {\r\n\t\t} else if (block instanceof ProfilePage) {\r\n\t\t\troot.innerHTML = '';\r\n\t\t\troot.append(block.getContent()!);\r\n\t\t} else if (block instanceof ContentPage) {\r\n\t\t\tdocument.querySelector('.profile__content')?.remove();\r\n\t\t\troot.append(block.getContent()!);\r\n\t\t} else {\r\n\t\t\troot.innerHTML = '';\r\n\t\t\troot.append(block.getContent()!);\r\n\t\t}\r\n\t} else {\r\n\t\troot.append(block.getContent()!);\r\n\t}\r\n\r\n\treturn root;\r\n}\r\n\r\nexport default class Route {\r\n\tprivate block: Block | null = null;\r\n\r\n\tconstructor(\r\n\t\tprivate readonly pathname: string,\r\n\t\tpublic readonly blockClass: typeof Block,\r\n\t\tprivate readonly query: string,\r\n\t\tprivate props: object\r\n\t) {}\r\n\r\n\tleave() {\r\n\t\tthis.block = null;\r\n\t}\r\n\r\n\tmatch(pathname: string) {\r\n\t\treturn isEqual(pathname, this.pathname);\r\n\t}\r\n\r\n\trender(query: string = this.query) {\r\n\t\tif (!this.block) {\r\n\t\t\tthis.block = new this.blockClass(this.props);\r\n\r\n\t\t\trender(query, this.block);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n}\r\n","import Block from '../../utils/Block';\r\nimport { Button } from '../../blocks/libs/button/Button';\r\nimport template from './error404.pug';\r\n\r\ninterface IError404 {\r\n\timages: HTMLImageElement;\r\n}\r\n\r\nexport default class Error404 extends Block<IError404> {\r\n\tconstructor(props: IError404) {\r\n\t\tsuper({ ...props });\r\n\t}\r\n\tinit() {\r\n\t\tthis.children.button = new Button({\r\n\t\t\tlabel: 'Назад',\r\n\t\t\tclasses: 'error404',\r\n\t\t\tevents: {\r\n\t\t\t\tclick: () => history.go(-2)\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\treturn this.compile(template, { ...this.props });\r\n\t}\r\n}\r\n","section.error404\r\n    .error404__block\r\n        .error404__text УПС.... \r\n            div Страница не найдена\r\n        #{button}\r\n    .error404__img\r\n        img(src=`${images}`)\r\n                ","module.exports = require('./helpers/bundle-url').getBundleURL('hKh4f') + \"error.443fb73c.jpg\" + \"?\" + Date.now();"],"names":[],"version":3,"file":"index.891f0f0b.js.map","sourceRoot":"/__parcel_source_root/"}